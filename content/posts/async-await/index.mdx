---
title: Learning about async/await
description: When writing async functions, there are differences between await vs return vs return await, and picking the right one is important.
date: 2019-04-03
tags:
  - javascript
---

Should you `return await` async javascript functions? In simple terms, seldom:

> Since the return value of an async function is always wrapped in Promise.resolve, return await doesnâ€™t actually do anything except add extra time before the overarching Promise resolves or rejects.

<!-- Returning await in a return -->

I have been developing with Javascript for a couple of years and I still learn things. When you write async functions it is important to remember _what_ you return. When we look at the following async function we see that after 2 seconds it returns _'Foo'_.

```javascript
async function foo() {
  const msg = await new Promise((resolve) => {
    setTimeout(() => {
      resolve("Foo");
    }, 2000);
  });
  console.log("Message:", msg);
}

msg(); // Message: 'Foo' <-- after 2 seconds
```

When using _async/await_ instead of Promise you should always use a _try/catch_. Below we don't use _await_ and so the returned promise will always **fulfill with undefined, without waiting.**

```javascript
async function printFooAfterTwoSeconds() {
  try {
    foo();
  } catch (e) {
    return "caught";
  }
}
```

```javascript
async function printFooAfterTwoSeconds() {
  try {
    await foo();
  } catch (e) {
    return "caught";
  }
}
```

```javascript
async function printFooAfterTwoSeconds() {
  try {
    return foo();
  } catch (e) {
    return "caught";
  }
}
```

```javascript
async function printFooAfterTwoSeconds() {
  try {
    return await foo();
  } catch (e) {
    return "caught";
  }
}
```

> Outside of try/catch blocks, return await is redundant. There's even an [ESLint](https://eslint.org/docs/rules/no-return-await) rule to detect it, but it allows it in try/catch.
